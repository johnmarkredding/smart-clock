@import 'reset';

$blue-dark: #0B1828;
$blue-light: #1A5FB3;
$yellow-dark: #FFE649;
$yellow-light: #F8F99C;
$grey: #999999;
$clock-size: 50;

$clock-fs: (.25 * $clock-size)+vmin;
$weather-fs: (.20 * $clock-size)+vmin;

$clock-fs-md: (.4 * $clock-size)+vmin;
$weather-fs-md: (.23 * $clock-size)+vmin;
$clock-border-md: (.045 * $clock-size)+vmin;

$clock-shadow: (0.07 * $clock-size)+vmin;
$clock-border: (.06 * $clock-size)+vmin;

$box-shadow: 0 0 $clock-shadow 2px $blue-light;
$box-shadow-inset: $box-shadow, $box-shadow inset;

body {
	max-width: 150vmin;
	margin: auto;
	background-color: $blue-dark;
	color: white;
	width: 100vw;
	height: 100vh;
	display: grid;
	grid-template-columns: 4vmin auto 4vmin auto 4vmin;
	grid-template-rows: 25vmin auto 25vmin;
	grid-template-areas:
		". . . . ."
		". clock . weather ."
		". . . . .";
}
sup { font-size: 50% }

#clock {
	font-size: $clock-fs;
	border-radius: 100%;
	border: $clock-border white solid;
	box-shadow: $box-shadow-inset;
	grid-area: clock;
	align-self: center;
	justify-self: center;
	display: grid;
	grid-template-columns: 100%;
	grid-template-rows: 100%;
	grid-template-areas:
		"time-box";
	position: relative;
	width: $clock-size+vmin;
	height: auto;
	&:after {
		content: "";
		display: block;
		padding-bottom: 100%;
	}
	hr {
		display: none;
	}
}
#time {
	position: absolute;
	width: auto;
	height: auto;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	grid-area: time-box;
	justify-self: center;
	align-self: center;
	display: grid;
	grid-template-columns: auto;
	grid-template-rows: auto 1fr;
	grid-template-areas:
		"digits"
		"meridiem";
}
#digits {
	grid-area: digits;
	align-self: end;
	justify-self: center;
}
#meridiem {
	color: $yellow-dark;
	font-size: 50%;
	font-weight: 400;
	grid-area: meridiem;
	align-self: start;
	justify-self: end;
	margin-top: -8%;
}

#weather {
	font-size: $weather-fs;
	grid-area: weather;
	justify-self: center;
	align-self: center;
	display: grid;
	grid-template-columns: 1;
	grid-template-rows: 12.5vmin 25vmin 12.5vmin;
	grid-template-areas:
		"date"
		"icon"
		"temp";
}
#date {
	font-weight: 500;
	grid-area: date;
	justify-self: stretch;
	align-self: center;
}
#icon {
	margin: 2.5vmin auto;
	grid-area: icon;
	justify-self: center;
	align-self: center;
	canvas {
		display: block;
		width: 20vmin;
		height: 20vmin;
	}
}
#temp {
	font-weight: inherit;
	grid-area: temp;
	justify-self: stretch;
	align-self: center;
}

@media screen and (max-width: 768px) {
	body {
		max-width: none;
		grid-template-columns: auto;
		grid-template-rows: 50% 50%;
		grid-template-areas:
			"clock"
			"weather";
	}
	#clock {
		font-size: $clock-fs-md;
		box-shadow: none;
		border: 0;
		align-self: stretch;
		grid-template-rows: 80% 1fr auto;
		grid-template-areas:
			"time-box"
			"."
			"hr";
		width: 100%;
		&:after {
			display: none;
		}
		hr {
			grid-area: hr;
			border: $clock-border-md white solid;
			box-shadow: $box-shadow;
			display: block;
			margin: 0;
			padding: 0;
		}
	}
	#time {
		position: static;
		transform: none;
		align-self: end;
		display: block;
	}
	#weather {
		font-size: $weather-fs-md;
		grid-template-columns: 1fr 1fr 1fr auto 1fr 1fr 1fr;
		grid-template-rows: 1fr;
		grid-template-areas:
			"icon icon . date . temp temp";
	}
	#icon {
		justify-self: end;
		margin: 0;
		canvas {
			width: 15vmin;
			height: 15vmin;
		}
	}
	#temp {
		justify-self: start;
		color: $grey;
	}
}
@media screen and (max-width: 510px) {
	body {
		grid-template-rows: 1fr 1fr 1fr 1fr 1fr;
		grid-template-areas:
			"clock"
			"clock"
			"."
			"weather"
			"weather";
	}
	#clock {
		grid-template-rows: 80% auto;
		grid-template-areas:
			"time-box"
			"hr";
	}
	#time {
		align-self: center;
		display: grid;
	}
	#meridiem { font-size: 45% }
	#weather {
		
	}
}